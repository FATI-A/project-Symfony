{% extends "base.html.twig" %}

{% block title %}SymOrderTrack - Nouvelle commande
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="mt-4">Création d'une commande
		</h1>


		{{ form_start(form, {'method': 'POST'}) }}

		{# Affichage des champs avec erreurs #}
		<div class="form-group">
			{% if form.date.vars.errors|length > 0 %}
				<div class="invalid-feedback">
					{% for error in form.date.vars.errors %}
						<p>{{ error.message }}</p>
					{% endfor %}
				</div>
			{% endif %}
		</div>

		<div class="form-group">
			{{ form_label(form.date) }}
			{{ form_widget(form.date) }}
			<div class="form-error">
				{{ form_errors(form.date) }}
			</div>
		</div>

		<div class="form-group">
			{{ form_label(form.statut) }}
			{{ form_widget(form.statut) }}
			<div class="form-error">
				{{ form_errors(form.statut) }}

			</div>

			<div class="form-group">
				{% for commandeArticleForm in form.commandeArticles %}
					<div class="form-group">
						<label>Article</label>
						{{ form_widget(commandeArticleForm.article) }}
						<div class="form-error">
							{{ form_errors(commandeArticleForm.article) }}
						</div>
					</div>

					<div class="form-group">
						<label>Quantité</label>
						{{ form_widget(commandeArticleForm.quantity) }}
						<div class="form-error">
							{{ form_errors(commandeArticleForm.quantity) }}
						</div>
					</div>
				{% endfor %}
			</div>


		</div>
		{{ form_row(form.submit) }}

		{{ form_end(form) }}
	</div>
{% endblock %}
